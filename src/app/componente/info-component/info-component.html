<div class="layout-container">
  <!-- LADO IZQUIERDO: CARD -->
  <div class="left-side">
    <mat-card class="info-card">
      <mat-card-title>Información Detallada</mat-card-title>
      <div class="card-subtitle">
        Cuéntanos más de ti para poder brindarte una mejor experiencia.
      </div>

      <mat-card-content>
        <form [formGroup]="infoForm" class="form-container" (ngSubmit)="onSubmit()">

          <!-- FECHA NACIMIENTO -->
          <mat-form-field appearance="fill">
            <mat-label>Fecha de Nacimiento</mat-label>
            <mat-icon matPrefix>calendar_today</mat-icon>
            <input
              matInput
              [matDatepicker]="picker"
              formControlName="fechaNacimiento"
              placeholder="MM/DD/YYYY"
            />
            <mat-hint>MM/DD/YYYY</mat-hint>
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
            <mat-error *ngIf="infoForm.get('fechaNacimiento')?.hasError('required')">
              La fecha de nacimiento es obligatoria
            </mat-error>
          </mat-form-field>

          <!-- ALTURA -->
          <mat-form-field appearance="fill">
            <mat-label>Altura (cm)</mat-label>
            <mat-icon matPrefix>height</mat-icon>
            <input
              matInput
              type="number"
              formControlName="alturaCm"
              placeholder="170"
            />
            <mat-error *ngIf="infoForm.get('alturaCm')?.hasError('required')">
              La altura es obligatoria
            </mat-error>
            <mat-error *ngIf="infoForm.get('alturaCm')?.hasError('min')">
              La altura debe ser mayor a 0
            </mat-error>
          </mat-form-field>

          <!-- PESO -->
          <mat-form-field appearance="fill">
            <mat-label>Peso (kg)</mat-label>
            <mat-icon matPrefix>monitor_weight</mat-icon>
            <input
              matInput
              type="number"
              formControlName="pesoKg"
              placeholder="70"
            />
            <mat-error *ngIf="infoForm.get('pesoKg')?.hasError('required')">
              El peso es obligatorio
            </mat-error>
            <mat-error *ngIf="infoForm.get('pesoKg')?.hasError('min')">
              El peso debe ser mayor a 0
            </mat-error>
          </mat-form-field>

          <!-- NIVEL ACTIVIDAD -->
          <mat-form-field appearance="fill">
            <mat-label>Nivel de Actividad</mat-label>
            <mat-icon matPrefix>bar_chart</mat-icon>
            <mat-select formControlName="nivelActividadId" placeholder="Selecciona tu nivel">
              <mat-option *ngFor="let nivel of listaNiveles" [value]="nivel.id">
                {{ nivel.nombre }} - {{ nivel.informacion }}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="infoForm.get('nivelActividadId')?.hasError('required')">
              Selecciona un nivel de actividad
            </mat-error>
          </mat-form-field>

          <!-- BOTONES -->
          <div class="actions">
            <button
              type="submit"
              mat-raised-button
              [disabled]="loading || infoForm.invalid"
            >
              Guardar
            </button>

            <button
              type="button"
              mat-button
              (click)="infoForm.reset()"
              [disabled]="loading"
            >
              Limpiar
            </button>
          </div>

          <div *ngIf="error" class="error">{{ error }}</div>
          <div *ngIf="success" class="success">{{ success }}</div>
        </form>
      </mat-card-content>
    </mat-card>
  </div>

  <!-- LADO DERECHO: IMAGEN -->
  <div class="right-side"></div>
</div>
