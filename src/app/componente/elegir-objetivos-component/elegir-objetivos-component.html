<div class="objetivos-page">
  <div class="background-image"></div>

  <div class="objetivos-wrapper">

    <div class="objetivos-header">
      <h1 class="titulo">Objetivos</h1>
      <p class="subtitulo">¿Qué meta te propones seguir?</p>
    </div>

    <div class="objetivos-grid">
      <mat-grid-list cols="3" rowHeight="2:1" gutterSize="24">
        <mat-grid-tile *ngFor="let obj of listaObjetivos">
          <button
            mat-raised-button
            class="objetivo-card"
            [ngClass]="{ selected: obj.id === seleccionado?.id }"
            (click)="seleccionarObjetivo(obj)"
          >
            <div class="obj-icon">
              <mat-icon>
                {{ obj.id === 1 ? 'trending_down' : obj.id === 2 ? 'trending_up' : 'fitness_center' }}
              </mat-icon>
            </div>

            <div class="objetivo-name">
              {{ obj.nombre }}
            </div>
          </button>
        </mat-grid-tile>
      </mat-grid-list>
    </div>

    <button
      mat-raised-button
      class="btn-guardar"
      [disabled]="!seleccionado || isSaving"
      (click)="guardarObjetivo()"
    >
      {{ isSaving ? 'Guardando…' : 'Guardar' }}
    </button>

    <p *ngIf="mensajeExito" class="mensaje-exito">{{ mensajeExito }}</p>
    <p *ngIf="mensajeError" class="mensaje-error">{{ mensajeError }}</p>

  </div>
</div>
